<%# This partial contains only the shared form fields %>
<%# It expects a local variable named 'form' to be passed in %>

<div class="row">
  <div class="small-12 medium-6 margin-bottom column">
    <%= form.label :status_id %>
    <%= form.select :status_id,
                 @statuses.map { |s| [s.name, s.id] },
                 { include_blank: @statuses.any? ? "" : t("admin.milestones.form.no_statuses_defined") },
                 { disabled: @statuses.blank? } %>

    <% if controller.class.module_parent_name == "Admin" %>
      <%= link_to t("admin.milestones.form.admin_statuses"),
                  admin_milestone_statuses_path,
                  class: "float-right" %>
    <% end %>
  </div>
</div>

<div class="row">
  <%= form.translatable_fields do |translations_form| %>
    <div class="column">
      <%= translations_form.hidden_field :title, value: l(Time.current, format: :datetime) %>
      <%= translations_form.label :description %>
      <%= translations_form.text_area :description, rows: 5 %>
    </div>
  <% end %>
</div>

<div class="row">
  <div class="column">
    <%= form.label :publication_date %>
    <%= form.date_field :publication_date %>
    <%= render Images::NestedComponent.new(form) %>
    <%= render Documents::NestedComponent.new(form) %>
    <%= form.submit nil, class: "button success" %>
  </div>
</div>
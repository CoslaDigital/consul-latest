// _cosla_shared.scss

@mixin shared-styles {

  // Table container for responsive behavior
.custom-table-responsive {
  overflow-x: auto;
  margin: 2rem 0;
  border: 1px solid var(--custom-border-color, #e6e6e6);
  border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

// Base table styling
.custom-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.95rem;
  line-height: 1.4;

  th {
    background-color: var(--custom-th-bg, #f8f9fa);
    padding: 1rem;
    font-weight: 600;
    border-bottom: 2px solid var(--custom-border-color, #dee2e6);
    text-align: left;
    color: var(--custom-th-color, #333);
  }

  td {
    padding: 1rem;
    border-bottom: 1px solid var(--custom-border-color, #e6e6e6);
    vertical-align: top;
    color: var(--custom-td-color, #555);
  }

  tr:hover {
    background-color: var(--custom-tr-hover, #f9f9f9);
  }
}

// Table section headers
.custom-table-section {
  background-color: var(--custom-section-bg, #e9ecef);
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.85em;
  letter-spacing: 0.5px;
  padding: 0.75rem 1rem;
  border-top: 2px solid var(--custom-border-color, #dee2e6);
  color: var(--custom-section-color, #495057);
}

  // Variable/Code badges
.custom-badge {
  display: inline-block;
  background-color: var(--custom-badge-bg, #e7f1ff);
  color: var(--custom-badge-color, #0066cc);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 0.85em;
  margin: 0.1rem;
  border: 1px solid var(--custom-badge-border, #cfe2ff);
  line-height: 1.2;

  &.sm {
    padding: 0.15rem 0.35rem;
    font-size: 0.75em;
    margin: 0.05rem;
  }

  &.lg {
    padding: 0.4rem 0.75rem;
    font-size: 0.95em;
  }

  &.rounded {
    border-radius: 50px;
  }

  &.clickable {
    cursor: pointer;
    transition: all 0.2s ease;

    &:hover {
      opacity: 0.9;
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
  }
}

.custom-badge-secondary {
  @extend .custom-badge;
  background-color: var(--custom-badge-secondary-bg, #f8f9fa);
  color: var(--custom-badge-secondary-color, #6c757d);
  border-color: var(--custom-badge-secondary-border, #e9ecef);
}

// Code snippets
.custom-code {
  background-color: var(--custom-code-bg, #f1f1f1);
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 0.9em;
  color: var(--custom-code-color, #d63384);
  word-break: break-word;

  &-block {
    display: block;
    padding: 1rem;
    margin: 1rem 0;
    background-color: var(--custom-code-block-bg, #f8f9fa);
    border-radius: 4px;
    border-left: 3px solid var(--custom-code-block-accent, #0066cc);
    overflow-x: auto;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.9em;
    line-height: 1.4;
  }
}

  // Comparison/Feature tables
.custom-comparison-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;

  th {
    background-color: var(--custom-comparison-th-bg, #f8f9fa);
    padding: 0.75rem;
    border: 1px solid var(--custom-border-color, #dee2e6);
    font-weight: 600;
    text-align: center;
  }

  td {
    padding: 0.75rem;
    border: 1px solid var(--custom-border-color, #dee2e6);
    text-align: center;
  }

  tr:nth-child(even) {
    background-color: var(--custom-comparison-even-bg, #f9f9f9);
  }
}

// Status indicators
.custom-status {
  &-success {
    color: var(--custom-success-color, #198754);
    font-weight: 600;
  }

  &-error {
    color: var(--custom-error-color, #dc3545);
    font-weight: 600;
  }

  &-warning {
    color: var(--custom-warning-color, #ffc107);
    font-weight: 600;
  }
}

  // Text utilities
.custom-text {
  &-center {
    text-align: center;
  }

  &-right {
    text-align: right;
  }

  &-muted {
    color: var(--custom-muted-color, #6c757d);
    font-style: italic;
  }
}

// List styling
.custom-list {
  &-unstyled {
    list-style: none;
    padding-left: 0;
    margin: 0.5rem 0;

    li {
      margin-bottom: 0.5rem;
      padding-left: 1.2em;
      position: relative;

      &:before {
        content: "•";
        position: absolute;
        left: 0;
        color: var(--custom-list-marker, #666);
      }
    }
  }

  &-inline {
    list-style: none;
    padding-left: 0;
    margin: 0.5rem 0;

    li {
      display: inline-block;
      margin-right: 1rem;
    }
  }
}

// Spacing utilities
.custom-mt {
  &-1 { margin-top: 0.5rem !important; }
  &-2 { margin-top: 1rem !important; }
  &-3 { margin-top: 1.5rem !important; }
}

.custom-mb {
  &-1 { margin-bottom: 0.5rem !important; }
  &-2 { margin-bottom: 1rem !important; }
  &-3 { margin-bottom: 1.5rem !important; }
}

.custom-my {
  &-1 { 
    margin-top: 0.5rem !important; 
    margin-bottom: 0.5rem !important; 
  }
  &-2 { 
    margin-top: 1rem !important; 
    margin-bottom: 1rem !important; 
  }
}

.custom-pt {
  &-1 { padding-top: 0.5rem !important; }
  &-2 { padding-top: 1rem !important; }
}

.custom-pb {
  &-1 { padding-bottom: 0.5rem !important; }
  &-2 { padding-bottom: 1rem !important; }
}

// Layout helpers
.custom-full-width {
  width: 100%;
}

.custom-auto-width {
  width: auto;
}

// Content flow visualization
.custom-flow-list {
  list-style: none;
  padding-left: 0;
  margin: 1rem 0;

  li {
    margin-bottom: 0.5rem;
    padding: 0.75rem;
    background: var(--custom-flow-bg, white);
    border-radius: 4px;
    border-left: 3px solid var(--custom-flow-accent, #0066cc);
    font-weight: 500;
  }

  > div {
    margin-bottom: 0.5rem;
    padding: 0.75rem;
    background: var(--custom-flow-bg, white);
    border-radius: 4px;
    border-left: 3px solid var(--custom-flow-accent, #0066cc);
    font-weight: 500;
  }
}

// Highlight boxes
.custom-highlight {
  background-color: var(--custom-highlight-bg, #fff3cd);
  border-left: 4px solid var(--custom-highlight-border, #ffc107);
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 0 4px 4px 0;
}

  // Table variants
.custom-table {
  &-compact {
    th,
    td {
      padding: 0.5rem 0.75rem;
      font-size: 0.9em;
    }
  }

  &-bordered {
    border: 1px solid var(--custom-border-color);

    th,
    td {
      border: 1px solid var(--custom-border-color);
    }
  }

  &-striped {
    tbody tr:nth-child(odd) {
      background-color: var(--custom-tr-striped, #f8f9fa);
    }
  }
}

// ==========================================================================
// COLOR VARIABLES FOR THEME CUSTOMIZATION
// ==========================================================================

:root {
  // Base colors
  --custom-border-color: #e6e6e6;
  --custom-th-bg: #f8f9fa;
  --custom-th-color: #333;
  --custom-td-color: #555;
  --custom-tr-hover: #f9f9f9;
  --custom-tr-striped: #f8f9fa;
  
  // Section colors
  --custom-section-bg: #e9ecef;
  --custom-section-color: #495057;
  
  // Badge colors
  --custom-badge-bg: #e7f1ff;
  --custom-badge-color: #0066cc;
  --custom-badge-border: #cfe2ff;
  --custom-badge-secondary-bg: #f8f9fa;
  --custom-badge-secondary-color: #6c757d;
  --custom-badge-secondary-border: #e9ecef;
  
  // Code colors
  --custom-code-bg: #f1f1f1;
  --custom-code-color: #d63384;
  --custom-code-block-bg: #f8f9fa;
  --custom-code-block-accent: #0066cc;
  
  // Comparison table colors
  --custom-comparison-th-bg: #f8f9fa;
  --custom-comparison-even-bg: #f9f9f9;
  
  // Status colors
  --custom-success-color: #198754;
  --custom-error-color: #dc3545;
  --custom-warning-color: #ffc107;
  
  // Text colors
  --custom-muted-color: #6c757d;
  --custom-list-marker: #666;
  
  // Flow colors
  --custom-flow-bg: white;
  --custom-flow-accent: #0066cc;
  
  // Highlight colors
  --custom-highlight-bg: #fff3cd;
  --custom-highlight-border: #ffc107;
}

// Dark theme variant
[data-theme="dark"] {
  --custom-border-color: #444;
  --custom-th-bg: #2d2d2d;
  --custom-th-color: #f0f0f0;
  --custom-td-color: #ccc;
  --custom-tr-hover: #3a3a3a;
  --custom-tr-striped: #2d2d2d;
  --custom-section-bg: #363636;
  --custom-section-color: #ddd;
  --custom-badge-bg: #2c3e50;
  --custom-badge-color: #3498db;
  --custom-badge-border: #34495e;
  --custom-badge-secondary-bg: #363636;
  --custom-badge-secondary-color: #aaa;
  --custom-badge-secondary-border: #444;
  --custom-code-bg: #2d2d2d;
  --custom-code-color: #f8c555;
  --custom-code-block-bg: #2d2d2d;
  --custom-code-block-accent: #3498db;
  --custom-comparison-th-bg: #2d2d2d;
  --custom-comparison-even-bg: #363636;
  --custom-flow-bg: #2d2d2d;
  --custom-flow-accent: #3498db;
  --custom-highlight-bg: #444;
  --custom-highlight-border: #f39c12;
}

// Light theme variant
[data-theme="light"] {
  --custom-border-color: #e0e0e0;
  --custom-th-bg: #f5f5f5;
  --custom-th-color: #222;
  --custom-td-color: #444;
  --custom-tr-hover: #f0f0f0;
  --custom-section-bg: #e8e8e8;
  --custom-section-color: #333;
  --custom-badge-bg: #e3f2fd;
  --custom-badge-color: #1565c0;
  --custom-badge-border: #bbdefb;
}

// Blue theme variant
[data-theme="blue"] {
  --custom-border-color: #c5d9f1;
  --custom-th-bg: #e3f2fd;
  --custom-th-color: #0d47a1;
  --custom-td-color: #1a237e;
  --custom-tr-hover: #e8eaf6;
  --custom-section-bg: #bbdefb;
  --custom-section-color: #0d47a1;
  --custom-badge-bg: #e8eaf6;
  --custom-badge-color: #283593;
  --custom-badge-border: #c5cae9;
  --custom-flow-accent: #283593;
  --custom-code-block-accent: #283593;
}

// Callout integration (since you mentioned callout is good as-is)
// These are mixins if you want to extend callout styles
@mixin custom-callout-variant($background, $border, $color) {
  background-color: $background;
  border-left-color: $border;
  color: $color;
}

.custom-callout-success {
  @include custom-callout-variant(#d1e7dd, #198754, #0f5132);
}

.custom-callout-warning {
  @include custom-callout-variant(#fff3cd, #ffc107, #856404);
}

.custom-callout-danger {
  @include custom-callout-variant(#f8d7da, #dc3545, #721c24);
}

.custom-callout-info {
  @include custom-callout-variant(#cff4fc, #0dcaf0, #055160);
}

// ==========================================================================
// MIXINS FOR REUSABLE COMPONENTS
// ==========================================================================

// Mixin for creating badge variants
custom-badge-variant($background, $color, $border) {
  background-color: $background;
  color: $color;
  border-color: $border;
}

// Mixin for table rows
custom-table-row-variant($state, $background, $border) {
  .custom-table-#{$state} {
    &,
    > th,
    > td {
      background-color: $background;
    }
    
    th,
    td,
    thead th,
    tbody + tbody {
      border-color: $border;
    }
  }
}

// Mixin for status indicators
custom-status-indicator($color) {
  color: $color;
  font-weight: 600;
  
  &::before {
    content: "●";
    margin-right: 0.5rem;
    font-size: 0.8em;
  }
}

// Apply status mixins
.custom-status-success {
  @include custom-status-indicator(var(--custom-success-color, #198754));
}

.custom-status-error {
  @include custom-status-indicator(var(--custom-error-color, #dc3545));
}

.custom-status-warning {
  @include custom-status-indicator(var(--custom-warning-color, #ffc107));
}

// ==========================================================================
// RESPONSIVE BREAKPOINTS
// ==========================================================================

@media (max-width: 768px) {
  .custom-table-responsive {
    margin: 1rem 0;
    border: none;
    box-shadow: none;
  }
  
  .custom-table {
    font-size: 0.9rem;
    
    th,
    td {
      padding: 0.75rem 0.5rem;
    }
  }
  
  .custom-comparison-table {
    display: block;
    overflow-x: auto;
    
    th,
    td {
      white-space: nowrap;
      min-width: 120px;
    }
  }
  
  .custom-badge {
    font-size: 0.8em;
    padding: 0.2rem 0.4rem;
    
    &.sm {
      font-size: 0.7em;
      padding: 0.1rem 0.3rem;
    }
  }
}

@media (max-width: 576px) {
  .custom-table {
    font-size: 0.85rem;
    
    th,
    td {
      padding: 0.5rem 0.25rem;
    }
  }
  
  .custom-table-section {
    font-size: 0.8em;
    padding: 0.5rem;
  }
  
  .custom-flow-list {
    li,
    > div {
      padding: 0.5rem;
      font-size: 0.9em;
    }
  }
  
  .custom-highlight {
    padding: 0.75rem;
  }
}

// Print styles
@media print {
  .custom-table-responsive {
    border: 1px solid #000;
    box-shadow: none;
  }
  
  .custom-table {
    th {
      background-color: #fff !important;
      color: #000 !important;
      border-bottom: 2px solid #000;
    }
    
    td {
      color: #000 !important;
    }
  }
  
  .custom-badge {
    background-color: #fff !important;
    color: #000 !important;
    border: 1px solid #000;
  }
  
  .custom-code {
    background-color: #fff !important;
    color: #000 !important;
    border: 1px solid #ccc;
  }
}


  .hero-header .row::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to top, var(--brand-secondary) 0%, var(--brand) 100%); 
  opacity: 0.7;
  border-radius: inherit;
  z-index: -1; // This is correct
}


  .admin-sidebar {
    background: linear-gradient(to bottom, var(--brand) 0%,var(--brand-secondary) 100%);
  }

  .budget-header .row {
    padding: 1rem;
    width: 80%;
    display: flex;
    justify-content: center;
    border-radius: 20px;
    margin-right: unset;
    margin-left: 10%;
    position: relative; // For positioning ::before
  }

  .budget-header .row::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, var(--brand-secondary) 0%, var(--brand) 100%);
    opacity: 0.7;
    border-radius: inherit;
    z-index: -1;
  }
  
.budget-header .row .medium-6 {
  width: unset;
  }

.hero-header .homepage-lead,
.budget-header .homepage-lead {
  max-width: 80%;
  font-size: 1.4rem;
  margin-bottom: 0.75rem;
  margin-left: 10%;
  margin-right: 10%;
  text-align: center;
}

.budget-header .homepage-link {
    display: inline-block;
    margin: 0.5rem 0;
    margin-top: 1.0rem;
    margin-bottom: 1.0rem;
    justify-content: center;
    background-color: var(--brand-secondary);
    color: white; /* Text color */
    padding: 0.75rem 1.5rem; /* Add padding to make it look like a button */
    text-align: center; /* Center text */
    text-decoration: none; /* Remove underline for links */
    border-radius: 5px; /* Rounded corners for button effect */
    font-size: 1.2rem; /* Adjust font size */
    font-weight: bold; /* Make text bold */
    cursor: pointer; /* Show pointer on hover */
    transition: background-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transition for hover */
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.25);
}

/* Add hover and focus styles to make it interactive */
.budget-header .homepage-link:hover,
.budget-header .homepage-link:focus {
    background-color: var(--brand); /* Change background on hover */
    color: white; /* Ensure text remains visible */
}

.budget-header.with-background-image {
padding-bottom: 5rem;
}

.budget-header h1 {
  padding: 1.5rem 0 .5rem;
  text-shadow: 1px 1px 2px $black;
}  

    .no-items {
    background-color: var(--brand-secondary);
    border-color: #bce8f1;
    color: var(--brand-contrast);
}

.debate-questions .control {
    background: #f9f9f9; /* Slightly lighter background */
    border: 1px solid #ccc; /* Softer border color */
    border-radius: .5rem; /* Larger border radius for a more modern feel */
    color: #333; /* Darker text color for better contrast */
    cursor: pointer;
    display: inline-block;
    margin-bottom: 1rem; /* Increased margin for better spacing */
    margin-right: 1rem; /* Reduced right margin for better alignment */
    padding: 1rem 2rem; /* Adjusted padding for better proportions */
    position: relative;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
    transition: background-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transitions */
}

.debate-questions .control:hover {
    background: #e6e6e6; /* Slightly darker background on hover */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Enhanced shadow on hover */
}

.debate-list {
    margin: 0 auto;
    max-width: 800px;
}

.debate-block {
    background: #f9f9f9; /* Light background for contrast */
    border: 1px solid #ddd; /* Soft border */
    border-radius: .5rem; /* Rounded corners */
    padding: 1rem; /* Padding for spacing */
    margin-bottom: 1.5rem; /* Space between blocks */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
    transition: background-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transitions */
}

.debate-block:hover {
    background: #e6e6e6; /* Slightly darker background on hover */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Enhanced shadow on hover */
}

.debate-type {
    font-weight: bold;
    color: #333; /* Darker text color */
    margin-bottom: .5rem; /* Space below type */
}

.debate-title h4 {
    font-size: 1.25rem; /* Larger font size */
    margin: 0; /* Remove default margin */
}

.debate-title a {
    color: #007acc; /* Link color */
    text-decoration: none; /* Remove underline */
}

.debate-title a:hover {
    text-decoration: underline; /* Underline on hover */
}

.debate-meta {
    font-size: .875rem; /* Smaller font size */
    color: #777; /* Lighter text color */
    margin-top: .5rem; /* Space above meta */
}

.comments-count a {
    color: #007acc; /* Link color */
    text-decoration: none; /* Remove underline */
}

.comments-count a:hover {
    text-decoration: underline; /* Underline on hover */
}

.debate-date {
    color: #555; /* Slightly darker text color */
}

.comment {
    background: #f9f9f9; /* Light background for contrast */
    border: 1px solid #ddd; /* Soft border */
    border-radius: .5rem; /* Rounded corners */
    padding: 1rem; /* Padding for spacing */
    margin-bottom: 1rem; /* Space between comments */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
    transition: background-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transitions */
}

.comment:hover {
    background: #e6e6e6; /* Slightly darker background on hover */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Enhanced shadow on hover */
}

.comment-avatar {
    display: inline-block;
    margin-right: .5rem; /* Space between avatar and info */
    vertical-align: top;
}

.comment-info {
    display: inline-block;
    vertical-align: top;
    max-width: calc(100% - 40px); /* Adjust width to fit with avatar */
}

.user-name a {
    color: #007acc; /* Link color */
    text-decoration: none; /* Remove underline */
}

.user-name a:hover {
    text-decoration: underline; /* Underline on hover */
}

.label.round.level-1 {
    background: #007acc; /* Background color for label */
    color: #fff; /* Text color for label */
    padding: .25rem .5rem; /* Padding for label */
    border-radius: 1rem; /* Rounded label */
    font-size: .875rem; /* Smaller font size */
}

.comment-user p {
    margin: .5rem 0; /* Space above and below comment text */
    color: #333; /* Darker text color */
}

.comment-votes {
    margin-top: .5rem; /* Space above votes */
}

.comment-votes .votes {
    display: flex;
    align-items: center;
}

.comment-votes .in-favor, .comment-votes .against {
    margin-left: .5rem; /* Space between vote buttons */
}

.comment-votes button {
    background: none;
    border: none;
    color: #007acc; /* Button color */
    cursor: pointer;
    padding: 0;
}

.comment-votes button:hover {
    text-decoration: underline; /* Underline on hover */
}

:root {
    --background-color: #d9edf7; /* Default background color */
    --text-color: #31708f; /* Default text color */
}

.callout.primary {
    background-color: var(--background-color);
    color: var(--text-color);
    border-radius: .5rem;
    padding: 1rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.map {
  --map-height: 650px;
  --marker-size: 30px;
  --marker-color: #00cae9;
  --marker-inner-size: 14px;
  --marker-inner-color: #fff;

  position: relative;
  width: 100%;
  height: var(--map-height);
  background-color: #f0f0f0;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  overflow: hidden;
   .map-marker {
    left: 50%;
    margin-top: -5px;
    position: absolute;
    top: 50%;
    visibility: visible;

    .map-icon {
      background: #00cae9;
      border-radius: 50% 50% 50% 0;
      height: 30px;
      transform: rotate(-45deg);
      width: 30px;
    }

    .map-icon::after {
      background: #fff;
      border-radius: 50%;
      content: "";
      height: 14px;
      margin: 8px 0 0 8px;
      position: absolute;
      width: 14px;
    }
  }
  }
.leaflet-control-layers-toggle {
        background-image: image-url("leaflet/layers.png");
        width: 36px;
        height: 36px;
        }
.leaflet-retina .leaflet-control-layers-toggle {
        background-image: image-url("leaflet/layers-2x.png");
        background-size: 26px 26px;
  }
}

/* For debugging the hero-header background issue */
body .site-dev .hero-header.hero-header .row::before {
  background: linear-gradient(to top, red, blue) !important;
  opacity: 0.7 !important;
  display: block !important; /* Ensures it's not hidden */
}
